# コマンド ログ

## コマンドにカーソルを合わせる

---

Cypressはデフォルトで50個のテストを保持する。ブラウザがメモリを多く消費するようであれば、`numTestsKeptInMemory`の設定で変更できる。

---

# テスト中のアプリケーション

`cy.viewport()`コマンドまたは設定でサイズと向きを変更できる。現在のブラウザのウィンドウサイズに合っていない場合は、自動的に変更される。

# セレクターのプレイグラウンド

URLの左側のアイコンをクリックすると、`cy.get()`コマンドによるセレクターの指定を試せる。

## 一義性

Cypressは自動的に一義のセレクターを計算しようとする。

Cypressでは以下のものがデフォルトで奨励されている。

- `data-cy`
- `data-test`
- `data-testid`
- `id`
- `class`
- `tag`
- `attributes`
- `nth-child`

---

[`Cypress.SelectorPlayground`](https://docs.cypress.io/api/cypress-api/selector-playground-api.html)APIを使って、返したいセレクターを制御できる。

---

## ベストプラクティス

以下のような場合はテストでよいセレクターを書くのに苦労する。

- アプリケーションで動的なIDやクラスを使っている
- CSSや内容が変更されるとテストが壊れる

上記のようなよくある問題を支援するために、セレクター プレイグラウンドでは、一義のセレクターを決定する時に特定の`data-*`属性を持たせることを推奨している。

要素を特定し、CSSやJSの変更によってテストが壊れないようにするために[ベストプラクティスガイド](https://docs.cypress.io/guides/references/best-practices.html#Selecting-Elements)を参照。

## セレクターの検索

右ペインで要素を選択すると、セレクター プレイグラウンドに対象のセレクターが表示される。
クリップボードにコピーしたり、コンソールに表示したりできる。

## 実行の試み

セレクターを表示するボックスはテキストボックスでもある。

### セレクターの編集

セレクターを編集した時、合致する要素を強調する。

### Containsへ切り替え

`cy.contains()`に切り替えて試行する場合、合致する要素が複数ある場合でも最初の要素のみを返す。

### 強調の無効化

セレクター プレイグラウンドを開いている状態でアプリケーションとやりとりする場合、強調されるのが邪魔になる場合がある。無効にするとやりとりがより簡単になる。


